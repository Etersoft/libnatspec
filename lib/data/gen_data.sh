#!/bin/sh
OUTFILE=get_charset_data.h
echo Test string:
./print_data_string || exit 1
echo
cat <<EOF >$OUTFILE
/* Do not edit this file!
   It is autogenerated from WINE program print_data_string.c
*/
static const struct charset_entry
{
    const char *locale;
    unsigned int lcid;
    const char *unix_cs;
    const char *win_cs;
    const char *dos_cs;
    const char *mac_cs;
} charset_relation[] =
{
	/* unix locale,       lcid,    unix,       windows,    dos,      mac charset */
EOF
FIRST=""
for i in `locale -a | sort`
do
	#echo -e "\t{ \"$i\",\t \"" >>$OUTFILE
	if test -z "$FIRST"; then
		FIRST=no
	else
		echo -e "," >>$OUTFILE
	fi
	printf "\t{ %-19s " "\"$i\"," >>$OUTFILE
	LANG=$i ./print_data_string 2>/dev/null >>$OUTFILE
	echo -n "}" >> $OUTFILE
done
cat <<EOF >>$OUTFILE

};
EOF
